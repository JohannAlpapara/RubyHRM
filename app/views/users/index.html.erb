<div class="row">
    <div class="col-lg-12">
        <h1 class="page-header">Users</h1>
    </div>
    <!-- /.col-lg-12 -->
</div>
<!-- /.row -->

<div class="panel panel-default">
	<div class="panel-heading"><i class="fa fa-search fa-fw"></i> Search Users</div>
	<div class="panel-body">
		<%= form_tag(users_path, :method => "get", id: "search-form", :class => "form-inline") do %>
			<div class="form-group col-lg-3">
				<%= text_field_tag :search, params[:search], :placeholder => "Search Username or Role", :class => "form-control" %>
				<%= submit_tag "Search", :name => nil, :class =>  "btn btn-default" %>
			</div>
		<% end %>
	</div>
</div>

<div class="panel panel-default">
	<div class="panel-heading"><i class="fa fa-user fa-fw"></i> Users</div>
	<div class="panel-body">
		<%= link_to new_user_path, :class => 'btn btn-success' do %>
            <i class="fa fa-plus fa-fw"></i> Add User
        <% end %>
        <br/><br/>
		<div class="table-responsive">
			<table class="table table-striped table-bordered table-hover">
				<thead>
					<tr>
						<th>Username</th>
						<th>Role</th>
						<th>Employee Name</th>
						<th></th>
					</tr>
				</thead>
				<tbody>
					<% @users.each do |u| %>
					<tr>
						<td><%= u.username %></td>
						<td><%= u.role %></td>
						<td><%= u.person.full_name unless u.person_id.blank? %>
						<td>
							<%= link_to user_path(u.id), :class => "btn btn-success btn-xs" do %>
								<i class="fa fa-search fa-fw"></i> View
							<% end %>
							<%= link_to user_path(u.id), method: :delete, data: { confirm: 'Are you sure you want to delete this user?' }, :class => "btn btn-danger btn-xs" do %>
								<i class="fa fa-trash-o fa-fw"></i> Delete
							<% end %>
						</td>
					</tr>
					<% end %>
				</tbody>
			</table>
		</div>
	</div>
</div>
<br/>

