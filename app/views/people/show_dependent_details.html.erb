<div class="row">
    <div class="col-lg-12">
        <h1 class="page-header">Employees</h1>
    </div>
    <!-- /.col-lg-12 -->
</div>
<!-- /.row -->

<%= render 'person_details_nav' %>


<div class="row">
	<div class="col-lg-12">	
		<div class="panel with-nav-tabs panel-default">
			<div class="panel-heading">
				<%= render 'person_tab_navigation' %>
			</div>	
			<div class="panel-body">
				<%= link_to new_dependent_path(:person_id => @person.id), :class => 'btn btn-success' do %>
					<i class="fa fa-plus fa-fw"></i> Add Dependent
				<% end %>
				<br/><br/>
				<% if @person.dependents.empty? %>
					<p>There were no results found.</p>
				<% else %>	
					<div class="table-responsive">
						<table class="table table-striped table-bordered table-hover">
							<thead>
								<tr>
									<th>Name</th>
									<th>Relationship</th>
									<th></th>
								</tr>
							</thead>
							<tbody>
								<% @person.dependents.each do |d| %>
								<tr>
									<td><%= d.name %></td>
									<td><%= d.relationship %></td>
									<td>
										<%= link_to dependent_path(d.id), :class => "btn btn-success btn-xs" do %>
											<i class="fa fa-search fa-fw"></i> View
										<% end %>
										<%= link_to dependent_path(d.id), method: :delete, data: { confirm: 'Are you sure?' }, :class => "btn btn-danger btn-xs" do %>
											<i class="fa fa-trash-o fa-fw"></i> Delete
										<% end %>
									</td>
								</tr>
								<% end %>
							</tbody>
						</table>
					</div>
				<% end %>
			</div>
		</div>
	</div>
</div>
