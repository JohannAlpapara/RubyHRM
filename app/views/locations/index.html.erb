<div class="row">
    <div class="col-lg-12">
        <h1 class="page-header"><%= t('page_header.locations') %></h1>
    </div>
</div>

<div class="panel panel-default">
	<div class="panel-heading">
		<i class="fa fa-search fa-fw"></i> Search Locations&nbsp;&nbsp;&nbsp;<button type="button" class="btn btn-default btn-xs" data-toggle="collapse" data-target="#locations">+</button>
	</div>
	<div id="locations" class="panel-collapse collapse" >
		<div class="panel-body">
			<%= form_tag(locations_path, :method => "get", id: "search-form", :class => "form-inline") do %>
				<div class="form-group">
					<%= text_field_tag :search, params[:search], :placeholder => "Search Location Name", :class => "form-control" %>
				</div>
				<%= button_tag(:type => "submit", :name => nil, :class => "btn btn-default") do %>
						<span class="fa fa-search fa-fw"></span> <%= t('button.search') %>
				<% end %>
			<% end %>
		</div>
	</div>
</div>

<div class="row top15">
	<div class="col-lg-12">
		<%= link_to new_location_path, :class => "btn btn-success" do %>
			<i class="fa fa-plus fa-fw"></i> Add New Location
		<% end %>
		<div class="top15">
			<% if @locations.empty? %>
				<p>There were no results found.</p>
			<% else %>	
				<div class="table-responsive">
					<table class="table table-striped table-hover">
						<thead>
							<tr>
								<th>Location Name</th>
								<th>Country</th>
								<th></th>
							</tr>
						</thead>
						<tbody>
							<% @locations.each do |j| %>
							<tr>
								<td><%= j.name %></td>
								<td><%= j.country %></td>
								<td>
									<%= link_to location_path(j.id), :class => "btn btn-info btn-xs" do %>
										<i class="fa fa-search fa-fw"></i> <%= t('button.view') %>
									<% end %>
									<%= link_to edit_location_path(j.id), :class => "btn btn-warning btn-xs" do %>
										<i class="fa fa-pencil fa-fw"></i> <%= t('button.edit') %>
									<% end %>
								</td>
							</tr>
							<% end %>
						</tbody>
					</table>
				</div>
			<% end %>
		</div>
	</div>
</div>
